{% extends 'base.html' %}
{% load static %}

{% block title %}تتبع الطلب{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/track_order.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="track-order-container">
    <header class="track-header">
        <h1><i class="fas fa-box-open"></i> تتبع الطلب</h1>
        <p>أدخل رقم الطلب لمعرفة حالة الشحنة والموعد</p>
    </header>
    
    <div class="divider"></div>
    
    <section class="search-section">
        <h2><i class="fas fa-search"></i> البحث عن الطلب</h2>
        
        <div class="example-box">
            <i class="fas fa-info-circle"></i>
            <div class="example-text">
                أدخل رقم الطلب 
                <span class="example-code">مثال: 1  او 2 او10</span>
            </div>
        </div>
        
        <form class="track-form" method="GET" action="{% url 'track_order' %}">
            <div class="input-group">
                <input type="text" name="order_id" class="track-input" placeholder="أدخل رقم الطلب هنا" required>
                <i class="fas fa-truck input-icon"></i>
            </div>
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-location-arrow"></i> تتبع الطلب
            </button>
        </form>

        {% if order %}
            <div class="order-result">
                <h3>نتيجة تتبع الطلب: {{ order.id }}</h3>
                <p>الحالة: {{ order.status }}</p>
                <p>موعد التسليم المتوقع: {{ order.delivery_date }}</p>
            </div>
        {% elif request.GET.order_id %}
            <p class="not-found">لم يتم العثور على طلب بالرقم {{ request.GET.order_id }}</p>
        {% endif %}
    </section>
    
    <div class="divider"></div>
    
    <section class="help-section">
        <h2><i class="fas fa-question-circle"></i> تحتاج مساعدة؟</h2>
        <ul class="help-list">
            <li>
                <div class="help-number">1</div>
                <div class="help-text">تأكد من إدخال رقم الطلب بشكل صحيح</div>
            </li>
            <li>
                <div class="help-number">2</div>
                <div class="help-text">رقم الطلب يبدأ بـ ORD متبوعاً بأرقام</div>
            </li>
            <li>
                <div class="help-number">3</div>
                <div class="help-text">إذا لم تتمكن من العثور على الطلب تواصل معنا على الرقم: <span class="highlight">4557 123 50</span></div>
            </li>
        </ul>
        
        <div class="contact-card">
            <div class="contact-icon">
                <i class="fas fa-headset"></i>
            </div>
            <div class="contact-content">
                <h3>خدمة العملاء على مدار الساعة</h3>
                <p>لا تتردد في التواصل معنا في أي وقت</p>
            </div>
            <button class="btn btn-secondary contact-btn">
                <i class="fas fa-phone-alt"></i> تواصل معنا
            </button>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.querySelector('.contact-btn').addEventListener('click', function() {
        alert('سيتم الاتصال بخدمة العملاء على الرقم: 4557 123 50');
    });
</script>
{% endblock %}
