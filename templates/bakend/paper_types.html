{% extends "dashboard_base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/color_list.css' %}">
{% endblock %}

{% block dashboard_content %}
<section class="dashboard-section">
    <div class="dashboard-container">
        <h2 class="dashboard-title">
            <i class="fas fa-palette" style="color:#E94B35;margin-left:8px;"></i> انواع الورق
        </h2>

        <!-- نموذج إضافة / تعديل -->
        <div style="max-width:400px;margin:0 auto 24px auto;">
            <h3 style="color:#14375A;text-align:center;font-size:1.1rem;">
                {% if edit_type_obj %}تعديل أنواع الورق{% else %}إضافة نوع جديد{% endif %}
            </h3>
            <form method="post" style="margin-bottom:18px;">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="add-btn">
                    {% if edit_type_obj %}تحديث نوع{% else %}إضافة نوع{% endif %}
                </button>
                {% if edit_type_obj %}
                    <a href="{% url 'paper_types' %}" class="btn-action" style="background:#14375A;">إلغاء</a>
                {% endif %}
            </form>
        </div>

        <!-- جدول عرض الأنواع -->
        <table class="color-table">
            <thead>
                <tr>
                    <th>النوع</th>
                    <th>السعر</th>
                    <th>إجراءات</th>
                </tr>
            </thead>
            <tbody>
                {% for type in types %}
                <tr>
                    <td>{{ type.paper_type }}</td>
                    <td>{{ type.price }}</td>
                    <td>
                        <a href="?edit={{ type.id }}" class="btn-action">تعديل</a>
                        <a href="?delete={{ type.id }}" class="btn-action" onclick="return confirm('هل أنت متأكد من حذف النوع؟');">حذف</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" style="text-align:center;">لا يوجد أنواع</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
{% endblock %}
